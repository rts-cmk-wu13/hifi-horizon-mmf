import{r as d,j as e,L as h}from"./index-C9JMSumX.js";const t={h1:{fontWeight:"bold",color:"#495464",marginBottom:"2rem",fontSize:"2rem"},h2:{fontSize:"large",marginBottom:"1rem",fontWeight:"bold"},form:{display:"flex",flexDirection:"column",margin:"0 auto",backgroundColor:"#fff",padding:"2rem",borderRadius:"8px",boxShadow:"0 0 10px rgba(0,0,0,0.1)",width:"100%"},button:{padding:"10px",background:"#FF6900",color:"#fff",border:"none",borderRadius:"4px",cursor:"pointer",width:"156px",boxShadow:"0 0 10px rgba(0,0,0,0.53)"},input:{marginBottom:"10px",padding:"9px",width:"100%",borderRadius:"4px",border:"1px solid #ccc",backgroundColor:"#E8E8E8"},p:{fontSize:"16px",textAlign:"center",marginTop:"20px"},newCustomer:{display:"flex",flexDirection:"column",marginTop:"2rem",padding:"1rem",backgroundColor:"#fff",borderRadius:"8px",boxShadow:"0 0 10px rgba(0,0,0,0.1)",alignItems:"center",rowGap:"1rem"}};function y(){const[n,c]=d.useState({email:"",password:"",remember:!1}),[s,a]=d.useState(""),[x,f]=d.useState(()=>{const r=localStorage.getItem("user");return r?JSON.parse(r):null}),i=r=>{const{id:o,value:l,type:p,checked:u}=r.target;c(g=>({...g,[o]:p==="checkbox"?u:l}))},m=async r=>{r.preventDefault(),a("");try{const o=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(o.ok){const l=await o.json();localStorage.setItem("user",JSON.stringify(l)),window.dispatchEvent(new Event("userUpdated")),window.location.href="/myprofile"}else a("Login failed. Please check your credentials.")}catch{a("An error occurred. Please try again.")}};return e.jsxs("div",{style:{padding:"2rem",backgroundColor:"#D5D5D5",minHeight:"100vh"},children:[e.jsx("h1",{style:t.h1,children:"Login"}),e.jsxs("form",{style:t.form,onSubmit:m,children:[e.jsx("h2",{style:t.h2,children:"Registered Customers"}),e.jsx("p",{style:{marginBottom:"1rem"},children:"If you have an account, sign in with your email address."}),e.jsxs("label",{style:{marginBottom:5},children:["Email",e.jsx("input",{type:"email",id:"email",style:t.input,value:n.email,onChange:i,required:!0,autoComplete:"email"})]}),e.jsxs("label",{style:{marginBottom:5},children:["Password",e.jsx("input",{type:"password",id:"password",style:t.input,value:n.password,onChange:i,required:!0,autoComplete:"current-password"})]}),e.jsxs("label",{style:{display:"flex",alignItems:"center",marginBottom:"10px",fontWeight:"normal"},children:[e.jsx("input",{type:"checkbox",id:"remember",checked:n.remember,onChange:i,style:{marginRight:"10px"}}),"Remember me"]}),e.jsx("button",{type:"submit",style:t.button,children:"Login"}),s&&e.jsx("p",{style:{color:s.includes("success")?"green":"red",marginTop:"1em"},children:s})]}),e.jsxs("div",{className:"new-customer",style:t.newCustomer,children:[e.jsx("h2",{children:"NEW CUSTOMER"}),e.jsxs("p",{style:t.p,children:["Creating an account has many benefits: check out faster, track orders and more."," "]}),e.jsx(h,{to:"/opretprofil",children:e.jsx("button",{style:t.button,children:"Create an account"})})]})]})}export{y as default};
